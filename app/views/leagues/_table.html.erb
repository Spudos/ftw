<div class="text-center">
  <h2><%= params[:competition] %></h2>
</div>

<table class="table table-hover align-middle mb-5">
  <tr class="table-header">
    <th scope="col">#</th>
    <th scope="col">Id</th>
    <th scope="col">Name</th>
    <th scope="col">P</th>
    <th scope="col">W</th>
    <th scope="col">D</th>    
    <th scope="col">L</th>
    <th scope="col">For</th>
    <th scope="col">Ag</th>
    <th scope="col">GD</th>
    <th scope="col">Pts</th>
    <th scope="col">Managed</th>
  </tr>

  <% @table.each_with_index do |statistics, index| %>
    <tr scope="row">
      <td><%= index + 1 %>
      <td><%= statistics[:club_id] %></td>
      <td><%= statistics[:name] %></td>
      <td><%= statistics[:played] %></td>
      <td><%= statistics[:won] %></td>
      <td><%= statistics[:drawn] %></td>
      <td><%= statistics[:lost] %></td>
      <td><%= statistics[:goals_for] %></td>
      <td><%= statistics[:goals_against] %></td>
      <td><%= statistics[:goal_difference] %></td>
      <td><%= statistics[:points] %></td>
      <td><%= Club.find_by(id: statistics[:club_id])&.managed %></td>
    </tr>
  <% end %>
</table>

<div class="row mb-5">
  <div class="col-md-4">
    <table class="table table-hover align-middle">
      <tr>
        <th colspan="5" scope="col"><h5 class="text-center">Biggest Stadiums</h5><th>
      </tr>
      <tr>
        <th scope="col">Club</th>
        <th scope="col">Total Seats</th>
      </tr>
      <% @club_biggest_stadiums.each do |club| %>
        <tr scope="row">
          <td><%= club[:name] %></td>
          <td><%= club[:stadium_size] %></td>
        </tr>
      <% end %>
    </table>
  </div>

  <div class="col-md-4">
    <table class="table table-hover align-middle">
      <tr>
        <th colspan="5" scope="col"><h5 class="text-center">Biggest Fanbase</h5><th>
      </tr>
      <tr>
        <th scope="col">Club</th>
        <th scope="col">Fanbase</th>
      </tr>
      <% @club_biggest_fanbase.each do |club| %>
        <tr scope="row">
          <td><%= club[:name] %></td>
          <td><%= club[:fanbase] %></td>
        </tr>
      <% end %>
    </table>
  </div>

  <div class="col-md-4">
  <table class="table table-hover align-middle">
    <tr>
      <th colspan="5" scope="col"><h5 class="text-center">Biggest Bank Balances</h5><th>
    </tr>
    <tr>
      <th scope="col">Club</th>
      <th scope="col">Bank Balance</th>
    </tr>
    <% @club_biggest_banks.each do |club| %>
      <tr scope="row">
        <td><%= club[:name] %></td>
        <td><%= club[:bank] %></td>
      </tr>
    <% end %>
  </table>
</div>
<div>

<div class="row mb-5">
  <div class="col-md-4">
    <table class="table table-hover align-middle">
      <tr>
        <th colspan="5" scope="col"><h5 class="text-center">Biggest Coaching Team</h5><th>
      </tr>
      <tr>
        <th scope="col">Club</th>
        <th scope="col">Coaches</th>
      </tr>
      <% @club_biggest_coaches.each do |club| %>
        <tr scope="row">
          <td><%= club[:name] %></td>
          <td><%= club[:coaches] %></td>
        </tr>
      <% end %>
    </table>
  </div>

  <div class="col-md-4">
    <table class="table table-hover align-middle">
      <tr>
        <th colspan="5" scope="col"><h5 class="text-center">Biggest Medical Team</h5><th>
      </tr>
      <tr>
        <th scope="col">Club</th>
        <th scope="col">Medical Team</th>
      </tr>
      <% @club_biggest_fitness.each do |club| %>
        <tr scope="row">
          <td><%= club[:name] %></td>
          <td><%= club[:staff_fitness] %></td>
        </tr>
      <% end %>
    </table>
  </div>

  <div class="col-md-4">
  <table class="table table-hover align-middle">
    <tr>
      <th colspan="5" scope="col"><h5 class="text-center">Happiest Fans</h5><th>
    </tr>
    <tr>
      <th scope="col">Club</th>
      <th scope="col">Happiest Fans</th>
    </tr>
    <% @club_biggest_fan_happiness.each do |club| %>
      <tr scope="row">
        <td><%= club[:name] %></td>
        <td><%= club[:fan_happiness] %></td>
      </tr>
    <% end %>
  </table>
</div>
<div>