<br>
<br>
<h2>League Table</h2>
<table class="table table-hover">
  <tr>
    <th scope="col">#</th>
    <th scope="col">Abbr</th>
    <th scope="col">Name</th>
    <th scope="col">Played</th>
    <th scope="col">Won</th>
    <th scope="col">Drawn</th>    
    <th scope="col">Lost</th>
    <th scope="col">For</th>
    <th scope="col">Against</th>
    <th scope="col">Goal diff</th>
    <th scope="col">Points</th>
  </tr>
  <% @team_stats.sort_by { |team, stats| [-stats[:points], -(stats[:goals_scored] - stats[:goals_conceded]), -stats[:goals_scored]] }.each.with_index(1) do |(team, stats), index| %>
    <tr scope="row">
      <td><%= index %></td>
      <td><%= team %></td>
      <td><%= Club.find_by(abbreviation: team)&.name %></td>
      <td><%= stats[:played] %></td>
      <td><%= stats[:won] %></td>
      <td><%= stats[:drawn] %></td>
      <td><%= stats[:lost] %></td>
      <td><%= stats[:goals_scored] %></td>
      <td><%= stats[:goals_conceded] %></td>
      <td><%= stats[:goals_scored] - stats[:goals_conceded] %></td>
      <td><%= stats[:points] %></td>
    </tr>
  <% end %>
</table>